const express = require('express');
const cors = require('cors');
const config = require('./helpers/config');
const bodyParser = require('body-parser');
const mongoose = require('mongoose');
const path = require('path');
const morgan = require('morgan')
const {cloudUpload, getCloudImage} = require('./helpers/utils');


// Create my app instance
const app = express();


// Controller Imports Here
const authRouter = require('./controllers/auth');
const postRouter = require('./controllers/post');
const testRouter = require('./controllers/test');


// My Mongodb Connection Setup Here
mongoose.connect(config.MONGODB_URI, config.MONGODB_OPTIONS).then(() => {
    console.log("Connection to MONGODB Success");
})
    .catch(error => {
        console.log("Connection to MONGODB Failed");
    })


// Middleware Usage comes here
app.use(cors());
app.use(morgan('combined'))
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({extended: true}));
app.use(express.static('public/views'));

// My routes here
app.use('/api/auth', authRouter);       // Handles User Authentication and Authorization
app.use('/api/posts', postRouter);      // Handles Blog Posts CRUD
app.use('/api/test', testRouter);       // Handling test of exceptions occurred within the server

/**
 * <input type="file" name="image" />
 */

app.post('/api/post/image/', cloudUpload.single('image'), async (request, response) => {
    await getCloudImage(request, response, request.file.filename)
    // console.log(`Image Json: ${image}`)
    // await image.status === 404 ? response.status(404).send({error: image.error}) : response.status(200).send({
    //     success: 1,
    //     file: {
    //         url: image.imageUrl
    //     }
    // })
    // response.status(200).send(
    //     {
    //         success: 1,
    //         file: {
    //             url: "data:image/jpeg;base64,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"
    //         }
    //     }
    // )
    console.log(request.params);
})

app.get('/', (request, response) => {
    response.sendFile(path.resolve(__dirname) + '/public/views/index.html')
})

// Export app for index.js
module.exports = app
